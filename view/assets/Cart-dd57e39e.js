import{j as e,B as _,R as m,l as k,u as f,i as L,I as A,r as o,o as D,p as F,q as P,s as $,t as E,v as H}from"./index-cbb88f11.js";function M(){return e.jsx("div",{className:"pt-[3rem] bg-[#d4d0d0] w-full h-screen md:p-[10rem]",children:e.jsxs("div",{className:"wrapper  h-[calc(100vh-15rem)] flex flex-col justify-center items-center",children:[e.jsx("h1",{className:"text-[1.8rem] font-medium tracking-wider py-[2rem]",children:"Cart is Empty"}),e.jsx("div",{className:"icons_wrapper ",children:e.jsx(_,{className:"text-[17.7rem] text-[#dd0707] mobile:text-[10rem]"})})]})})}function R({listItem:s,totalAmout:i,sidebar:a}){const d=k();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"price_details grow-1  py-4 indent-3 pb-2 ",children:[e.jsx("h1",{className:"uppercase font-serif",children:"price Details"}),e.jsx("div",{className:"divider my-[5px]"}),s.map((t,n)=>e.jsxs("div",{className:"price flex justify-between pr-[5rem] pl-4 items-center leading-[3rem]",children:[e.jsx("p",{className:"text-[1rem] font-serif tracking-wider truncate",children:t.name}),e.jsxs("p",{className:`text-[1rem] font-serif tracking-wider ${(t.id===3||t.id===2)&&"text-[#0ba103]"}`,children:[t.id===2&&e.jsx("span",{children:"₹"}),t.id===1&&e.jsx("span",{children:"₹"}),t.status]})]},n))]}),e.jsxs("div",{className:"total_amout px-[1rem] pb-2",children:[e.jsxs("div",{className:"wrap border-[2px] py-[.5rem] border-x-0  border-dashed border-[#cac6c6] flex justify-between pr-[4rem]",children:[e.jsx("h1",{className:"text-[1.2rem] pl-4  font-medium",children:"Total Amount"}),e.jsxs("p",{className:"text-[1.2rem] font-medium",children:[e.jsx("span",{children:"₹"}),Math.round(i)]})]}),a&&e.jsx("div",{className:"payment mt-4",children:e.jsx("button",{onClick:()=>{d("/place/order")},className:"btn btn-block text-[1.4rem] outline-none border-0 bg-[#18c005] truncate",children:"Place Order"})})]})]})}const j=m.memo(R);function S({item:s,addItems:i,itemDeleteLoader:a,RemoveITemLoader:d,removeItemFromCart:t,AddItemLoader:n}){return e.jsx("div",{className:"items_details p-3 py-2",children:e.jsxs("div",{className:"item_1 flex mobile:flex-col large:flex-col bg-[#eeececcc] rounded-md",children:[e.jsx("div",{className:"image flex-[4] h-full rounded-md p-2",children:e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"w-full rounded-md shrink-0",children:e.jsx("img",{src:s.image,className:"shrink-0"})})})}),e.jsxs("div",{className:"item_details  flex-[9] px-3",children:[e.jsx("h1",{className:"title  py-2 cursor-pointer text-[#060606] text-[1.4rem] font-serif pl-[2rem]",children:s.title}),e.jsx("div",{className:"description pl-[2rem] pb-4",children:e.jsx("p",{children:s.description})}),e.jsxs("div",{className:"price py-2 border-[1px] border-x-0 border-[#bab2b2]  border-solid cursor-pointer text-[#0b0b0b] text-[1rem]  font-serif pl-[2rem]",children:[e.jsx("span",{children:"₹"}),Math.round(s.price)]}),e.jsx("div",{className:"delete_item py-3 pl-[2rem]  border-b-[1px] border-x-0 border-[#bab2b2]  border-solid border-t-none",children:e.jsx("button",{disabled:d.id===s.id&&d.active,className:"text-[1rem]   btn btn-sm px-4 bg-[#f40404c3] rounded-md border-none",onClick:()=>{t({id:s.id,status:2})},children:"Remove"})}),e.jsxs("div",{className:"button_card flex pl-[2rem] py-2",children:[e.jsx("button",{disabled:n.id===s.id&&n.active,type:"button",role:"button",className:"text-[1.2rem] rounded-r-none btn btn-sm px-4 bg-[#e4980b] rounded-md border-none",onClick:()=>{i(s)},children:"+"}),e.jsx("p",{className:"text-[#0d0d0d] bg-[#fff] flex justify-center items-center px-[20px]",children:s.count}),e.jsx("button",{role:"button",type:"button",disabled:a.id===s.id&&a.active,className:"text-[1.2rem] rounded-l-none px-4 btn btn-sm bg-[#4dea04] rounded-md border-none",onClick:()=>{t({id:s.id,status:1})},children:"-"})]})]})]})})}const B=m.memo(S);function q({sidebar:s,finalTotalAmount:i}){const a=f(L),{totalAmout:d,totalItem:t,itemsList:n}=f(A),[v,x]=o.useState({id:-12,active:!1}),[N,u]=o.useState({id:-12,active:!1}),[g,p]=o.useState({id:-12,active:!1}),l=D(),[y,{isLoading:O,isSuccess:T,error:X,isError:z}]=F(),[b,{}]=P(),I=async r=>{try{a.isHaveId&&(u({id:r.id,active:!0}),await y({item:r,userId:a.isHaveId}).unwrap(),l($(r)),u({id:r.id,active:!1}))}catch(c){console.log(c)}},w=async r=>{try{r&&a.isHaveId&&(r.status===1?(x({id:r.id,active:!0}),await b({userId:a.isHaveId,status:1,params:r.id}).unwrap(),l(E({id:r.id})),x({id:r.id,active:!1})):(p({id:r.id,active:!0}),await b({userId:a.isHaveId,status:2,params:r.id}).unwrap(),l(H({id:r.id})),p({id:r.id,active:!1})))}catch(c){console.log(c)}},h=[{id:1,name:`Price(${t} items)`,status:`${Math.round(d)}`},{id:2,name:"Discount",status:"0"},{id:3,name:"Delivery Charges",status:"Free"}];return e.jsx(e.Fragment,{children:t===0?e.jsx(M,{}):e.jsxs("div",{className:"pt-[3.7rem]  flex mobile:flex-col mobile:px-0 justify-center px-4 gap-x-2 bg-[#c1cee7] relative mobile:pb-[1rem] rounded-md",children:[!i&&e.jsx("div",{className:"left_side bg-[#d4d0d0] rounded-md flex-[7]",children:n.map((r,c)=>e.jsx(B,{itemDeleteLoader:v,removeItemFromCart:w,addItems:I,item:r,AddItemLoader:N,RemoveITemLoader:g},c))}),s&&e.jsx("div",{className:"right_side bg-[#f3f2f2] mobile:mt-[1.6rem] flex-[3] min-h-full  rounded-md mobile:pb-[3rem]",children:e.jsx(j,{listItem:h,totalAmout:d,sidebar:s})}),i&&e.jsx("div",{className:"right_side bg-[#f3f2f2] mobile:mt-[1.6rem] flex-[3] min-h-full   rounded-md mobile:pb-[3rem] mb-2",children:e.jsx(j,{listItem:h,totalAmout:d,sidebar:s})})]})})}const J=m.memo(q);export{J as default};
